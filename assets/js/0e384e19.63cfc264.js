"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[671],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>y});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=a,y=c["".concat(s,".").concat(m)]||c[m]||p[m]||o;return n?r.createElement(y,i(i({ref:t},d),{},{components:n})):r.createElement(y,i({ref:t},d))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},59881:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:1},i="Net",l={unversionedId:"intro",id:"intro",title:"Net",description:"Core Concepts",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/Net/docs/intro",draft:!1,editUrl:"https://github.com/YetAnotherClown/Net/edit/main/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",next:{title:"Getting Started",permalink:"/Net/docs/getting-started"}},s={},u=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"A brief introduction to Event-Driven Programming",id:"a-brief-introduction-to-event-driven-programming",level:3},{value:"A introduction to Data-Driven Programming",id:"a-introduction-to-data-driven-programming",level:3},{value:"An Introduction to Net",id:"an-introduction-to-net",level:2},{value:"Why Net?",id:"why-net",level:3},{value:"Creating Routes",id:"creating-routes",level:3},{value:"Sending Data",id:"sending-data",level:3},{value:"Querying Data",id:"querying-data",level:3}],d={toc:u},c="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"net"},"Net"),(0,a.kt)("h2",{id:"core-concepts"},"Core Concepts"),(0,a.kt)("h3",{id:"a-brief-introduction-to-event-driven-programming"},"A brief introduction to Event-Driven Programming"),(0,a.kt)("p",null,"On Roblox, it is all too common. With the use of Signals, you can represent changes in state\nwith and react to those changes with connections. A lot of how you interact with the DataModel\nand it's properties is through Events, this makes Roblox primarily Event-Driven."),(0,a.kt)("p",null,"By making Roblox Event-Driven, this is where Roblox both succeeds and fails. They make things\nextremely simple for newcomers, but create issues for more experienced programmers. The biggest issue\nis that Event-Driven Programming fails when it comes to ordering. Failing to know when your code\nwill run creates several issues later on."),(0,a.kt)("h3",{id:"a-introduction-to-data-driven-programming"},"A introduction to Data-Driven Programming"),(0,a.kt)("p",null,"In a Data-Driven Architecture, Code runs in a fixed order, enabling developers to know exactly when\nsomething may change. This is something that ",(0,a.kt)("a",{parentName:"p",href:"https://eryn.io/matter/"},"Matter"),", a ECS System, strives to\nfix, and does a great job doing so."),(0,a.kt)("p",null,"In Matter, it exists ways to incorporate a Data-Driven design to Event-Driven objects such as RemoteEvents\non Roblox. It enables us to respond to Events and fire them in a fixed order. But we can do better."),(0,a.kt)("h2",{id:"an-introduction-to-net"},"An Introduction to Net"),(0,a.kt)("h3",{id:"why-net"},"Why Net?"),(0,a.kt)("p",null,"The Core issue of using RemoteEvents are the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Event-Driven Code is sensitive to ordering"),(0,a.kt)("li",{parentName:"ul"},"Developers must create multiple RemoteEvents.."),(0,a.kt)("li",{parentName:"ul"},"..Which is detrimental to organization"),(0,a.kt)("li",{parentName:"ul"},"And, results in inefficient networking practices")),(0,a.kt)("p",null,"Matter alone fixes the first issue, but with Net you can fix them all.\nNet abstracts away the need to create multiple RemoteEvents and applies networking tricks\nto optimize bandwidth at the same time. Like ",(0,a.kt)("a",{parentName:"p",href:"https://ffrostflame.github.io/BridgeNet2/"},"BridgeNet2"),", Net utilizes a singular\nRemoteEvent and structures Data to send the least amount of bytes over networking calls."),(0,a.kt)("p",null,"And with inspiration from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/lucaspoffo/renet/tree/master/bevy_renet"},"Bevy_Renet")," Crate and Matter itself,\nNet provides a effective API to use within an ECS."),(0,a.kt)("h3",{id:"creating-routes"},"Creating Routes"),(0,a.kt)("p",null,"Routes are the way you send and receive data through Net. They are uniquely identified so you're\nencouraged to create as many as you need as if you were creating individual RemoteEvents."),(0,a.kt)("p",null,"Routes can be Reliable or Unreliable. Reliable events are never dropped and are always in order per frame.\nUnreliable events might be dropped on bad connections, but they are always received in order per frame."),(0,a.kt)("p",null,"You can also strictly type Routes to get autocompletion and typechecking when Sending and Querying packets."),(0,a.kt)("p",null,"To create a Route, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"Net.new()")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local Net = require("Net.luau")\ntype Net<U...> = Net.Net<U...>\n\nlocal PlayerLoaded: Net<boolean> = Net.new({\n    Channel = "Reliable"\n})\n')),(0,a.kt)("h3",{id:"sending-data"},"Sending Data"),(0,a.kt)("p",null,"To send data using Net, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Net:send()")," method. For example,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local routes = require("routes.luau")\nlocal PlayerLoaded = routes.PlayerLoaded\n\nPlayerLoaded:send(true)\n')),(0,a.kt)("p",null,"On the Server, you can also specify a player or players to send the packet to,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local routes = require("routes.luau")\nlocal PlayerLoaded = routes.PlayerLoaded\n\nPlayerLoaded:send(true):to(Player)\n')),(0,a.kt)("h3",{id:"querying-data"},"Querying Data"),(0,a.kt)("p",null,"To query data, you must iterate over it in a for loop.\nTo do this, you can either iterate over the Route itself or use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Net:query()")," method."),(0,a.kt)("p",null,"For example,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local routes = require("routes.luau")\nlocal PlayerLoaded = routes.PlayerLoaded\n\nfor i, sender, ...data in PlayerLoaded:query() do\n    -- Retrieves all packets from the Route\nend\n')),(0,a.kt)("p",null,"And you can query by sender,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local routes = require("routes.luau")\nlocal PlayerLoaded = Routes.PlayerLoaded\n\nfor i, _, ...data in PlayerLoaded:query():from(Player) do\n    -- Retrieves all packets from the Route send by the Player\nend\n')))}p.isMDXComponent=!0}}]);